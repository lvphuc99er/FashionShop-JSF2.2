<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
</h:head>
<h:body>
    <ui:composition template="template/lnf-template.xhtml">
        <ui:define name="body">
            <div class="card">
                <h:form>
                    <h2 align="center">DANH SÁCH CÁC SẢN PHẨM</h2>
                    <hr/>
                    <div>
                        <p:inputText id="key" placeholder="Nhập tìm kiếm"/>
                        <p:commandButton value="Tìm kiếm"/>
                    </div>
                    <hr/>
                    <p:dataTable var="sp" value="#{sanPhamBean.sanPhams}">
                        <p:column style="width: 5%; text-align: center" headerText="Mã">
                            <h:outputText value="#{sp.maSanPham}"/>
                        </p:column>
                        <p:column style="width: 11%" headerText="Hình ảnh">
                            <h:outputText value="#{sp.hinhAnh}"/>
                        </p:column>
                        <p:column style="width: 21%" headerText="Tên sản phẩm">
                            <h:outputText value="#{sp.tenSanPham}"/>
                        </p:column>
                        <p:column style="width: 9%" headerText="Đơn giá">
                            <h:outputText value="#{sp.donGia}"/>
                        </p:column>
                        <p:column style="width: 8%; text-align: center" headerText="Số lượng">
                            <h:outputText value="#{sp.soLuongCoSan}"/>
                        </p:column>
                        <p:column style="width: 9%" headerText="Danh mục">
                            <h:outputText value="#{sp.danhMuc.tenDanhmuc}"/>
                        </p:column>
                        <p:column style="width: 15%; text-align: center" headerText="Tình trạng">
                            <h:outputText value="#{sp.trangThai}"/>
                        </p:column>
                        <p:column style="width: 18%; text-align: center" headerText="">
                            <div>
                                <p:commandButton value="Xem chi tiết" style="width: 185px; margin-bottom: 5px"
                                                 action="pmn_listproduct_detail?faces-redirect=true"/>
                            </div>
                            <div>
                                <p:commandButton style="width: 60px" value="Xóa"
                                                 styleClass="ui-button-raised ui-button-danger"
                                                 action="#{sanPhamBean.delete_SP(sp)}"/>
                                <p:commandButton style="width: 120px; margin-left: 5px" value="Chỉnh sửa"
                                                 action="#{sanPhamBean.nextPageUdate}"
                                                 actionListener="#{sanPhamBean.init_update(sp.maSanPham)}"
                                                 process="@this">
                                </p:commandButton>
                            </div>
                        </p:column>
                    </p:dataTable>
                    <hr/>
                    <p:commandButton resetValues="true" value="Thêm sản phẩm mới"
                                     action="#{sanPhamBean.nextPageCreate}"/>
                </h:form>
            </div>
        </ui:define>
    </ui:composition>

</h:body>
</html>
