<ui:composition template="template/lnf-template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="body">
        <f:metadata>
            <f:param value="#{login.khachHang.maKhachHang}"/>
            <f:param value="#{homeBean.ma}"/>
        </f:metadata>
        <h:form>
            <div>
                <div>
                    <p:fieldset legend="DANH MỤC SẢN PHẨM" style="width: 20%; margin-top: 5px">
                        <p:tieredMenu style="width:95%">
                            <p:menuitem value="Tất cả (#{sanPhamBean.demSoLuongSanPham()})"
                                        action="#{homeBean.setMa(4)}"/>
                            <p:menuitem value="Thời trang nam (#{sanPhamBean.demSoLuongThoiTrangNam()})"
                                        action="#{homeBean.setMa(1)}"/>
                            <p:menuitem value="Thời trang nữ (#{sanPhamBean.demSoLuongThoiTrangNu()})"
                                        action="#{homeBean.setMa(2)}"/>
                            <p:menuitem value="Phụ kiện (#{sanPhamBean.demSoLuongPhuKien()})"
                                        action="#{homeBean.setMa(3)}"/>
                        </p:tieredMenu>
                    </p:fieldset>
                </div>
                <div>
                    <p:fieldset legend="LỌC THEO GIÁ" style="width: 20%; margin-top: 5px">
                        <p:tieredMenu style="width:95%">
                            <p:menuitem value="Tất cả"/>
                            <p:menuitem value="&lt; 100.000"/>
                            <p:menuitem value="101.000 - 500.000"/>
                            <p:menuitem value="501.000 - 2.500.000"/>
                            <p:menuitem value="&gt; 2.500.000"/>
                        </p:tieredMenu>
                    </p:fieldset>
                </div>

                <div style="width: 77%; margin-top: -541px; margin-left: 340px">
                    <p:dataView var="sp" value="#{sanPhamBean.sanPhams}" layout="grid" rows="6"
                                gridIcon="pi pi-th-large" paginator="true" rendered="#{homeBean.ma == 4}">
                        <p:dataViewGridItem>
                            <p:panel header="#{sp.tenSanPham} - #{sp.maSanPham}" style="text-align:center">
                                <p:panelGrid columns="2" style="width:100%; margin-bottom: 10px">
                                    <f:facet name="header">
                                        <p:graphicImage value="images/#{sp.hinhAnh}"
                                                        style="width: 200px; height: 200px"/><br/>
                                        <p:outputLabel style="font-size: 30px" value="#{sp.donGia}"/>
                                    </f:facet>
                                    <p:commandButton value="Xem chi tiết" action="#{sanPhamBean.nextPageDetail}"
                                                     actionListener="#{sanPhamBean.initDetail(sp.maSanPham)}"
                                                     process="@this" style="width: 130px; font-size: 12px"/>
                                    <p:commandButton value="Thêm vào giỏ hàng" styleClass="ui-button-success"
                                                     action="#{cartBean.addSanPhamVaoGioHang(sp.maSanPham,login.khachHang.maKhachHang)}"
                                                     rendered="#{sp.soLuongCoSan > 0 and sp.trangThai eq 'ĐANG BÁN'}"
                                                     style="font-size: 12px"/>
                                    <p:commandButton value="Ngừng kinh doanh" disabled="true"
                                                     styleClass="ui-button-secondary" style="font-size: 12px"
                                                     rendered="#{sp.trangThai eq 'NGỪNG KINH DOANH' or sp.soLuongCoSan == 0}"/>
                                </p:panelGrid>
                            </p:panel>
                        </p:dataViewGridItem>
                    </p:dataView>

                    <p:dataView var="sp" value="#{homeBean.getSanPhams()}" layout="grid" rows="6"
                                gridIcon="pi pi-th-large" paginator="true" rendered="#{homeBean.ma != 4}">
                        <p:dataViewGridItem>
                            <p:panel header="#{sp.tenSanPham} - #{sp.maSanPham}" style="text-align:center">
                                <p:panelGrid columns="2" style="width:100%; margin-bottom: 10px">
                                    <f:facet name="header">
                                        <p:graphicImage value="images/#{sp.hinhAnh}"
                                                        style="width: 200px; height: 200px"/><br/>
                                        <p:outputLabel style="font-size: 30px" value="#{sp.donGia}"/>
                                    </f:facet>
                                    <p:commandButton value="Xem chi tiết" action="#{sanPhamBean.nextPageDetail}"
                                                     actionListener="#{sanPhamBean.initDetail(sp.maSanPham)}"
                                                     process="@this" style="width: 130px; font-size: 12px"/>
                                    <p:commandButton value="Thêm vào giỏ hàng" styleClass="ui-button-success"
                                                     action="#{cartBean.addSanPhamVaoGioHang(sp.maSanPham,login.khachHang.maKhachHang)}"
                                                     rendered="#{sp.soLuongCoSan > 0 and sp.trangThai eq 'ĐANG BÁN'}"
                                                     style="font-size: 12px"/>
                                    <p:commandButton value="Ngừng kinh doanh" disabled="true"
                                                     styleClass="ui-button-secondary" style="font-size: 12px"
                                                     rendered="#{sp.trangThai eq 'NGỪNG KINH DOANH' or sp.soLuongCoSan == 0}"/>
                                </p:panelGrid>
                            </p:panel>
                        </p:dataViewGridItem>
                    </p:dataView>
                </div>
            </div>
        </h:form>
    </ui:define>
</ui:composition>

